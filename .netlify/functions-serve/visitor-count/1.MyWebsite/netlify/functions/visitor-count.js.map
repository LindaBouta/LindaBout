{
  "version": 3,
  "sources": ["file:///E:/1.MyWebsite/netlify/functions/visitor-count.ts"],
  "sourceRoot": "C:/Users/linda/AppData/Local/Temp/tmp-11924-BU28fcR5hlAA",
  "sourcesContent": ["// netlify/functions/visitor-count.ts\r\nimport { Handler } from \"@netlify/functions\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\n\r\nconst filePath = path.join(\"/tmp\", \"visitor-count.json\");\r\n\r\nexport const handler: Handler = async () => {\r\n  try {\r\n    let count = 0;\r\n\r\n    // Load existing count (if file exists)\r\n    if (fs.existsSync(filePath)) {\r\n      const data = fs.readFileSync(filePath, \"utf-8\");\r\n      const json = JSON.parse(data);\r\n      count = json.count || 0;\r\n    }\r\n\r\n    // Increment and store\r\n    count++;\r\n    fs.writeFileSync(filePath, JSON.stringify({ count }), \"utf-8\");\r\n\r\n    return {\r\n      statusCode: 200,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n      body: JSON.stringify({ count }),\r\n    };\r\n  } catch (err) {\r\n    return {\r\n      statusCode: 500,\r\n      body: JSON.stringify({ error: (err as Error).message }),\r\n    };\r\n  }\r\n};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAe;AACf,kBAAiB;AAEjB,IAAM,WAAW,YAAAA,QAAK,KAAK,QAAQ,oBAAoB;AAEhD,IAAM,UAAmB,YAAY;AAC1C,MAAI;AACF,QAAI,QAAQ;AAGZ,QAAI,UAAAC,QAAG,WAAW,QAAQ,GAAG;AAC3B,YAAM,OAAO,UAAAA,QAAG,aAAa,UAAU,OAAO;AAC9C,YAAM,OAAO,KAAK,MAAM,IAAI;AAC5B,cAAQ,KAAK,SAAS;AAAA,IACxB;AAGA;AACA,cAAAA,QAAG,cAAc,UAAU,KAAK,UAAU,EAAE,MAAM,CAAC,GAAG,OAAO;AAE7D,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,+BAA+B;AAAA,MACjC;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,MAAM,CAAC;AAAA,IAChC;AAAA,EACF,SAAS,KAAK;AACZ,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAQ,IAAc,QAAQ,CAAC;AAAA,IACxD;AAAA,EACF;AACF;",
  "names": ["path", "fs"]
}
